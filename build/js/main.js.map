{"version":3,"names":[],"mappings":"","sources":["main.js"],"sourcesContent":["function is_touch_device() {\r\n return (('ontouchstart' in window) || (navigator.MaxTouchPoints > 0) || navigator.msMaxTouchPoints > 0);\r\n}\r\n\r\nvar mobileGlobal, touchGlobal;\r\n\r\nif( /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ) {\r\n document.body.classList.add(\"mobile\");\r\n mobileGlobal = true; \r\n}\r\n\r\nif(is_touch_device()) {\r\n  document.body.classList.add(\"touch\");\r\n  touchGlobal = true;\r\n}\r\nif ('objectFit' in document.documentElement.style === false) {\r\n\tdocument.addEventListener('DOMContentLoaded', function () {\r\n\t\tArray.prototype.forEach.call(document.querySelectorAll('img[data-object-fit]'), function (image) {\r\n\t\t\t(image.runtimeStyle || image.style).background = 'url(\"' + image.src + '\") no-repeat 50%/' + (image.currentStyle ? image.currentStyle['object-fit'] : image.getAttribute('data-object-fit'));\r\n\r\n\t\t\timage.src = 'data:image/svg+xml,%3Csvg xmlns=\\'http://www.w3.org/2000/svg\\' width=\\'' + image.width + '\\' height=\\'' + image.height + '\\'%3E%3C/svg%3E';\r\n\t\t});\r\n\t});\r\n}\r\ndocument.addEventListener(\"DOMContentLoaded\", function () {\r\n  var dropdown = document.querySelectorAll('.dropdown');\r\n  for(var i = 0; i < dropdown.length; i++) {\r\n    dropdown[i].addEventListener(\"click\", toggleDropdown);\r\n  }\r\n  \r\n});\r\n\r\nfunction toggleDropdown(e) {\r\n  var elem;  \r\n  var classList = Array.prototype.slice.call(e.target.classList, 0);\r\n  \r\n  if(classList.indexOf(\"dropdown\") !== -1) {\r\n    elem = e.target;    \r\n  } else {\r\n    elem = e.target.parentElement.parentNode;\r\n  }\r\n  \r\n  elem.classList.toggle('dropdown--open');\r\n  var options = document.querySelectorAll('.dropdown--open .dropdown__item');\r\n  \r\n  for(var i = 0; i < options.length; i++) {\r\n    options[i].addEventListener(\"click\", selectOption);\r\n  }\r\n}\r\n\r\nfunction selectOption(e) {\r\n  var elem = e.target;\r\n  var option = document.querySelectorAll('.dropdown .dropdown__item--selected');\r\n  option[0].classList.remove('dropdown__item--selected');\r\n  elem.classList.add('dropdown__item--selected');\r\n}\r\ndocument.addEventListener(\"DOMContentLoaded\", function () {\r\n  var player = document.getElementById('video-player');\r\n  var control = document.querySelector('.video__controls-play');\r\n  var video = document.querySelector('.video__item');\r\n  var flag = false;\r\n  \r\n  if(!mobileGlobal) {\r\n    video.setAttribute(\"preload\", \"true\");\r\n  }\r\n \r\n  video.addEventListener(\"loadedmetadata\", function() {\r\n    var duration = Math.round(video.duration)/100;\r\n    document.querySelector('.video-section__duration').innerHTML = duration;\r\n  });\r\n  \r\n  player.addEventListener(\"click\", function() {\r\n    player.classList.add('video--played');\r\n    \r\n    if(window.innerWidth > 768) {\r\n      flag = !flag;\r\n    } else {\r\n      flag = true;\r\n    }    \r\n    \r\n    if(flag) {\r\n      video.play();\r\n    } else {      \r\n      video.pause();\r\n    }\r\n    \r\n  });\r\n});\r\ndocument.addEventListener(\"DOMContentLoaded\", function () {\r\n  var carouselContainer = document.getElementById(\"carousel-container\");\r\n  var tabs = document.getElementById(\"tabs\");\r\n  var tabsContainer = document.querySelector(\".carousel__tabs-container\");\r\n  var tabletSize = 768;\r\n  var scrollButtonCount = 2;\r\n  var carouselContent = document.querySelectorAll(\".carousel__content\");\r\n  var currentContent = 1;\r\n  var scrollButtonRight = document.querySelector(\".carousel__scroll-button--right\");\r\n  var scrollButtonLeft = document.querySelector(\".carousel__scroll-button--left\");\r\n  \r\n  tabs.addEventListener(\"click\", function (e) {\r\n    e.preventDefault();\r\n    if (e.target.tagName !== \"A\") {\r\n      return;\r\n    }\r\n    \r\n    currentContent = e.target.getAttribute(\"data-tab\");\r\n    \r\n    addRemoveScrollButton(carouselContent[currentContent]);\r\n    \r\n    HammerCarousel.prototype.show.apply(outer, [currentContent, 0, true]);\r\n  });\r\n  \r\n  scrollButtonRight.addEventListener(\"click\", function(e) {\r\n    var el = carouselContent[currentContent];\r\n    smooth_scroll_to(el, el.scrollLeft + 420, 400);\r\n  });\r\n  \r\n  scrollButtonLeft.addEventListener(\"click\", function(e) {\r\n    var el = carouselContent[currentContent];\r\n    smooth_scroll_to(el, el.scrollLeft - 420, 400);\r\n  });\r\n  \r\n  for(var i = 0; i < carouselContent.length; i++) {\r\n    carouselContent[i].addEventListener(\"scroll\", contentScroll);\r\n  }\r\n\r\n  var reqAnimationFrame = (function () {\r\n    return window[Hammer.prefixed(window, \"requestAnimationFrame\")] || function (callback) {\r\n      setTimeout(callback, 1000 / 60);\r\n    };\r\n  })();\r\n\r\n  function dirProp(direction, hProp, vProp) {\r\n    return (direction & Hammer.DIRECTION_HORIZONTAL) ? hProp : vProp;\r\n  }\r\n\r\n\r\n  /**\r\n   * Carousel\r\n   * @param container\r\n   * @param direction\r\n   * @constructor\r\n   */\r\n  function HammerCarousel(container, direction) {\r\n    this.container = container;\r\n    this.direction = direction;\r\n\r\n    this.panes = Array.prototype.slice.apply(this.container.children, [0, length - scrollButtonCount]);\r\n    this.containerSize = this.container[dirProp(direction, \"offsetWidth\", \"offsetHeight\")];\r\n\r\n    this.currentIndex = 1;\r\n\r\n    this.hammer = new Hammer.Manager(this.container);\r\n    this.hammer.add(new Hammer.Pan({\r\n      direction: this.direction,\r\n      threshold: 10\r\n    }));\r\n    this.hammer.on(\"panstart panmove panend pancancel\", Hammer.bindFn(this.onPan, this));\r\n\r\n    this.show(this.currentIndex);\r\n  }\r\n\r\n  HammerCarousel.prototype = {\r\n    /**\r\n     * show a pane\r\n     * @param {Number} showIndex\r\n     * @param {Number} [percent] percentage visible\r\n     * @param {Boolean} [animate]\r\n     */\r\n    show: function (showIndex, percent, animate) {\r\n      showIndex = Math.max(0, Math.min(showIndex, this.panes.length - 1));\r\n      percent = percent || 0;\r\n\r\n      document.querySelector(\".carousel__tab--active\").classList.remove(\"carousel__tab--active\");\r\n      tabs.children[showIndex].classList.add(\"carousel__tab--active\");\r\n     \r\n      var tabTransform;\r\n      if (window.innerWidth < 430) {        \r\n        if (showIndex === 0) {\r\n          tabsContainer.classList.remove(\"carousel__tabs-container--end\");\r\n          tabsContainer.classList.add(\"carousel__tabs-container--start\");\r\n          tabTransform = 'translate3d(14%, 0, 0)';\r\n        } else if (showIndex === 1) {\r\n          tabsContainer.classList.remove(\"carousel__tabs-container--end\");\r\n          tabsContainer.classList.remove(\"carousel__tabs-container--start\");\r\n          tabTransform = 'translate3d(0, 0, 0)';          \r\n        } else if (showIndex === 2) {\r\n          tabsContainer.classList.remove(\"carousel__tabs-container--start\");\r\n          tabsContainer.classList.add(\"carousel__tabs-container--end\");       \r\n          tabTransform = 'translate3d(-20%, 0, 0)';\r\n        }\r\n      } else {\r\n        tabTransform = 'translate3d(0, 0, 0)';\r\n      }\r\n      \r\n      tabs.style.transform = tabTransform;\r\n      tabs.style.mozTransform = tabTransform;\r\n      tabs.style.webkitTransform = tabTransform;\r\n      \r\n      var className = this.container.className;\r\n        if (animate) {\r\n          if (className.indexOf(\"animate\") === -1) {\r\n            this.container.className += \" animate\";\r\n          }\r\n        } else {\r\n          if (className.indexOf(\"animate\") !== -1) {\r\n            this.container.className = className.replace(\"animate\", \"\").trim();\r\n          }\r\n        }\r\n      \r\n      var paneIndex, pos, translate;\r\n      if (window.innerWidth < tabletSize) {      \r\n        for (paneIndex = 0; paneIndex < this.panes.length; paneIndex++) {\r\n          pos = (this.containerSize / 100) * (((paneIndex - showIndex) * 100) + percent);\r\n        \r\n         // if(Math.abs(percent) > 10 || Math.abs(percent) == 0) {\r\n             if (this.direction & Hammer.DIRECTION_HORIZONTAL) {\r\n            translate = \"translate3d(\" + pos + \"px, 0, 0)\";\r\n          } else {\r\n            translate = \"translate3d(0, \" + pos + \"px, 0)\";\r\n          }\r\n          this.panes[paneIndex].style.transform = translate;\r\n          this.panes[paneIndex].style.mozTransform = translate;\r\n          this.panes[paneIndex].style.webkitTransform = translate;\r\n         // }\r\n          \r\n        }\r\n\r\n      } else {\r\n        for (paneIndex = 0; paneIndex < this.panes.length; paneIndex++) {\r\n          translate = \"translate3d(0, 0, 0)\";\r\n          this.panes[paneIndex].style.transform = translate;\r\n          this.panes[paneIndex].style.mozTransform = translate;\r\n          this.panes[paneIndex].style.webkitTransform = translate;\r\n        }\r\n        document.querySelector(\".carousel__content--active\").classList.remove(\"carousel__content--active\");\r\n        this.panes[showIndex].classList.add(\"carousel__content--active\");\r\n      }\r\n\r\n      this.currentIndex = showIndex;\r\n    },\r\n\r\n    /**\r\n     * handle pan\r\n     * @param {Object} ev\r\n     */\r\n    onPan: function (ev) {\r\n\r\n      if (window.innerWidth < tabletSize) {\r\n        var delta = dirProp(this.direction, ev.deltaX, ev.deltaY);\r\n        var percent = (100 / this.containerSize) * delta;\r\n        var animate = false;\r\n\r\n        if (ev.type == \"panend\" || ev.type == \"pancancel\") {\r\n          if (Math.abs(percent) > 20 && ev.type == \"panend\") {\r\n            this.currentIndex += (percent < 0) ? 1 : -1;\r\n          }\r\n          percent = 0;\r\n          animate = true;\r\n        }\r\n\r\n        this.show(this.currentIndex, percent, animate);\r\n      }\r\n\r\n    }\r\n  };\r\n  \r\n  if(window.innerWidth >= tabletSize) {\r\n    var outer = new HammerCarousel(carouselContainer);\r\n  } else {\r\n    var outer = new HammerCarousel(carouselContainer, Hammer.DIRECTION_HORIZONTAL);\r\n  } \r\n  \r\n  var windowSize = {\r\n    x: screen.width,\r\n    y: screen.height\r\n  };\r\n  \r\n  window.onresize = function () {\r\n    \r\n    if(windowSize.x !== window.innerWidth) {\r\n      if(window.innerWidth >= tabletSize) {\r\n        outer = new HammerCarousel(carouselContainer);\r\n      } else {\r\n        outer = new HammerCarousel(carouselContainer, Hammer.DIRECTION_HORIZONTAL);\r\n      } \r\n    }\r\n    windowSize.x = screen.width;\r\n  };\r\n  \r\n  function contentScroll(e) {    \r\n    var elem = e.target;\r\n    addRemoveScrollButton(elem);\r\n  }\r\n  \r\n  function addRemoveScrollButton(elem) {\r\n    if(elem.clientWidth + elem.scrollLeft === elem.scrollWidth) {\r\n      carouselContainer.classList.remove(\"carousel__container--start\");\r\n      carouselContainer.classList.add(\"carousel__container--end\");\r\n    } else if(elem.scrollLeft === 0) {\r\n      carouselContainer.classList.add(\"carousel__container--start\");\r\n      carouselContainer.classList.remove(\"carousel__container--end\");\r\n    } else {      \r\n      carouselContainer.classList.remove(\"carousel__container--start\");\r\n      carouselContainer.classList.remove(\"carousel__container--end\");\r\n    }\r\n    \r\n    if(elem.clientWidth === elem.scrollWidth) {\r\n      carouselContainer.classList.add(\"carousel__container--start\");\r\n      carouselContainer.classList.add(\"carousel__container--end\");\r\n    }\r\n  }\r\n  \r\n  var smooth_scroll_to = function(element, target, duration) {\r\n    target = Math.round(target);\r\n    duration = Math.round(duration);\r\n    if (duration < 0) {\r\n        return;\r\n    }\r\n    if (duration === 0) {\r\n        element.scrollLeft = target;\r\n        return scroll();\r\n    }\r\n\r\n    var start_time = Date.now();\r\n    var end_time = start_time + duration;\r\n\r\n    var start_top = element.scrollLeft;\r\n    var distance = target - start_top;\r\n\r\n    // based on http://en.wikipedia.org/wiki/Smoothstep\r\n    var smooth_step = function(start, end, point) {\r\n        if(point <= start) { return 0; }\r\n        if(point >= end) { return 1; }\r\n        var x = (point - start) / (end - start); // interpolation\r\n        return x*x*(3 - 2*x);\r\n    }\r\n    \r\n    function scroll() {\r\n        // This is to keep track of where the element's scrollLeft is\r\n        // supposed to be, based on what we're doing\r\n        var previous_top = element.scrollLeft;\r\n\r\n        // This is like a think function from a game loop\r\n        var scroll_frame = function() {\r\n            if(element.scrollLeft != previous_top) {\r\n                return;\r\n            }\r\n\r\n            // set the scrollLeft for this frame\r\n            var now = Date.now();\r\n            var point = smooth_step(start_time, end_time, now);\r\n            var frameTop = Math.round(start_top + (distance * point));\r\n            element.scrollLeft = frameTop;\r\n\r\n            // check if we're done!\r\n            if(now >= end_time) {\r\n                scroll();\r\n                return;\r\n            }\r\n\r\n            // If we were supposed to scroll but didn't, then we\r\n            // probably hit the limit, so consider it done; not\r\n            // interrupted.\r\n            if(element.scrollLeft === previous_top\r\n                && element.scrollLeft !== frameTop) {\r\n                scroll();\r\n                return;\r\n            }\r\n            previous_top = element.scrollLeft;\r\n\r\n            // schedule next frame for execution\r\n            setTimeout(scroll_frame, 0);\r\n        }\r\n\r\n        // boostrap the animation process\r\n        setTimeout(scroll_frame, 0);\r\n    }\r\n\r\n    return scroll();\r\n}\r\n  \r\n});"],"file":"main.js"}